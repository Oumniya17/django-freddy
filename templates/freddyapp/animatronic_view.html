{% extends 'freddyapp/base.html' %}
{% block content %}

<!-- Título con el nombre del animatrónico -->
<h1>{{ animatronic.name }}</h1>

<!-- Muestra el tipo de animal (texto legible de las choices) -->
<p><strong>Animal:</strong> {{ animatronic.get_animal_display }}</p>

<!-- Fecha de fabricación del animatrónico -->
<p><strong>Build date:</strong> {{ animatronic.build_date }}</p>

<!-- Estado del animatrónico: activo o retirado -->
<p><strong>Decommissioned:</strong> {{ animatronic.decommissioned }}</p>

<!-- Lista de fiestas asociadas al animatrónico -->
<p><strong>Parties:</strong>
    {% if animatronic.parties.all %}
        <!-- Iteramos sobre todas las fiestas relacionadas -->
        {% for party in animatronic.parties.all %}
            {{ party.name }}
            <!-- Añade coma si no es el último -->
            {% if not forloop.last %}, {% endif %}
        {% endfor %}
    {% else %}
        No parties assigned.
    {% endif %}
</p>

<!-- Muestra el enlace de edición solo si el usuario tiene permiso -->
{% if perms.freddyapp.change_animatronic %}
    <p>[<a href="{% url 'animatronic_edit' animatronic.id %}">Edit</a>]</p>
{% endif %}

<!-- Muestra el enlace de borrar solo si el usuario tiene permiso -->
{% if perms.freddyapp.delete_animatronic %}
    <p>[<a href="{% url 'animatronic_delete' animatronic.id %}">Delete</a>]</p>
{% endif %}

<!-- Enlace para volver a la lista general -->
<p><a href="{% url 'animatronic_list' %}">⬅ Back to list</a></p>

{% endblock %}
